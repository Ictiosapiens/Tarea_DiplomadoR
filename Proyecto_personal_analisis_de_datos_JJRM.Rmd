---
title: "Proyecto personal de análisis de datos"
author: "Juan José Rodríguez Maulén"
date: '2022-05-10'
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
## En este bloque de código podrían ir todos los paquetes que necesite habilitar o install.packages
library(datasets)
library(ggplot2)
library(readxl)
library(stats)
#install.packages("lme4")
library(lme4)
library(Matrix)
library(psych)
library(readr)
library(tidyverse)
library(janitor)
library(scales)
library(ggthemes)
library(ggrepel)
```
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r Madurez COS}
Madurez <- read_excel("/cloud/project/Coho Season 2021-2022.xlsx", sheet = 2)
#na="NA"
summary(Madurez)
head(Madurez)
summary(Madurez)
```

## Exploración por Proveedor & Centro*Proveedor 
## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
#Madurez ~ Proveedor
Madurez <- read_excel("Coho Season 2021-2022.xlsx", sheet = 2) %>% 
  clean_names()
Madurez$site_name <- factor(Madurez$site_name, levels = c('Chidhuapi 1', 'Chope','Chidhuapi 2', 'Colaco 4','Punta Yoye','Teupa', 'Compu', 'Aulin','Cachihue', 'Chidhuapi 3','Linguar','Malomacum'))
Madurez
summary(Madurez)


(Madurez <- Madurez %>% 
   filter(!is.na(percent_mature)) %>% 
   mutate(proveedor = fct_relevel(proveedor)) %>% 
   ggplot(aes(site_name, percent_mature, fill=proveedor)) +
   geom_jitter(shape=21, size=4, color="white", width = 0.2) +
   geom_boxplot(alpha=.5, outlier.color = "NA") +
   scale_fill_tableau() +
   theme_minimal() +
   scale_y_continuous(labels = percent) +
   labs(title="% Madurez en planta segun Centro y Fotoperiodo",
        subtitle = "Dato a nivel de unidad de proceso en planta") +
   theme(axis.line.x = element_line())
)+
  labs( x="Site Name", 
        y="Mature (%)")

```

#Corten

```{r Madurez Proveedor, echo=FALSE}
Madurez <- read_excel("Coho Season 2021-2022.xlsx", sheet = 2) %>% 
  clean_names()
(Madurez <- Madurez %>% 
   filter(!is.na(percent_mature)) %>% 
   mutate(proveedor = fct_relevel(proveedor)) %>% 
  ggplot(aes(proveedor, percent_mature, fill=proveedor)) +
   geom_jitter(shape=21, size=4, color="white", width = 0.2) +
   geom_boxplot(alpha=.5, outlier.color = "NA") +
   scale_fill_tableau() +
   theme_minimal() +
   scale_y_continuous(labels = percent) +
   labs(title="% Madurez en planta segun Centro y Fotoperiodo",
        subtitle = "Dato a nivel de unidad de proceso en planta") +
   theme(axis.line.x = element_line(),legend.position='none')
)+
labs( x="Proveedor", 
     y="Mature (%)")

```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
